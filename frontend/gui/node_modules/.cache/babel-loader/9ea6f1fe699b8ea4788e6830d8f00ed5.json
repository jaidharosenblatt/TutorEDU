{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/src/TutorProfile.js\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 40px;\\n  width: 250px;\\n  border: 2px solid #D9E2FF;\\n  border-radius: 4px;\\n  font-family: Avenir-Heavy;\\n  font-size: 12px;\\n  color: #1C3A9F;\\n  letter-spacing: 0;\\n  text-align: center;\\n  justifyContent: center;\\n  alignItems: center;\\n  margin-top: 12px;\\n\\n  :hover {\\n    color: white;\\n    border: 0px;\\n    background-color: #1C3A9F;\\n  }\\n\\n  :image {\\n    flex: 1,\\n    aspectRatio: 1.5,\\n    resizeMode: contain,\\n  }\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 40px;\\n  width: 250px;\\n  border: 1px solid #ECECEC;\\n  border-radius: 4px;\\n  font-family: Avenir-Heavy;\\n  font-size: 12px;\\n  color: black;\\n  letter-spacing: 0;\\n  text-align: center;\\n  justifyContent: center;\\n  alignItems: center;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport './styles.css';\nimport styled from 'styled-components';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nconst StyledDropdown = styled.select(_templateObject());\nconst Button = styled.button(_templateObject2());\n\nclass TutorProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        selectedCourse: e.target.value\n      });\n    };\n\n    this.state = {\n      user: null,\n      tutor: {\n        id: -1,\n        name: \"Alex Gerrese\",\n        profpicURL: \"https://randomuser.me/api/portraits/men/4.jpg\",\n        bio: \"This is fake data for this bio. This is fake data for this bio. This is fake data for this bio.\",\n        availabilities: \"4-9pm on Wednesdays and Fridays\",\n        courses: \"Econ 174, Econ 256, CS 201, CS 230, CS 290\",\n        university: \"Duke University\",\n        rating: \"4.7/5\",\n        reportCard: \"Econ 174: A-, Econ 256: A, CS 201: A, CS 230: A-, CS 290: A\",\n        year: 2020,\n        hourly_rate: 40\n      },\n      courses: [],\n      isLoggedIn: localStorage.getItem('token') ? true : false,\n      selectedCourse: -1\n    };\n    this.scheduleAppointment.bind(this);\n  }\n\n  componentDidMount() {\n    // const { match: { params } } = this.props;\n    // console.log(this.props.params.userID)\n    console.log(this.props.match.params.userID);\n    this.getTutor(this.props.match.params.userID);\n\n    if (this.state.isLoggedIn) {\n      this.getCurrentUser();\n    }\n  }\n\n  getCurrentUser() {\n    var config = {\n      headers: {\n        'Authorization': \"JWT \".concat(localStorage.getItem('token'))\n      }\n    };\n    axios.get('http://127.0.0.1:8000/api/current-user/', config).then(res => {\n      this.setState({\n        user: res.data\n      });\n    });\n  }\n\n  getTutor(userID) {\n    axios.get(\" http://127.0.0.1:8000/api/users/\" + userID).then(res => {\n      this.setState({\n        tutor: res.data\n      });\n      this.getCourses(this.state.tutor.courses);\n    }).catch(err => console.log(err));\n  }\n\n  getCourses(courses) {\n    for (let course of courses) {\n      axios.get(\"http://127.0.0.1:8000/api/courses/\" + course.id).then(res => {\n        this.setState(state => {\n          console.log(res.data);\n          const courses = state.courses.concat(res.data);\n          return {\n            courses\n          };\n        });\n      }).catch(err => console.log(err));\n    }\n  }\n\n  scheduleAppointment() {\n    var appointment = {\n      id: Math.floor(Math.random() * 100000),\n      tutor: this.state.tutor.id,\n      student: this.state.user.id,\n      course: parseInt(this.state.selectedCourse, 10) !== -1 ? parseInt(this.state.selectedCourse, 10) : this.state.courses[0].id,\n      additional_comments: document.getElementById('description').value,\n      availabilities: document.getElementById('availabilities').value,\n      is_active: true,\n      location: \"blank\",\n      status: \"Waiting for tutor response\",\n      rating: 5\n    };\n    console.log(appointment);\n    axios.post('http://127.0.0.1:8000/api/appointments/', appointment).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const courses = this.state.courses;\n    var tutorCourses = \"\";\n\n    for (let i = 0; i < courses.length; i++) {\n      if (i === 0) {\n        tutorCourses = courses[i].name;\n      } else if (i === courses.length - 1) {\n        tutorCourses = tutorCourses + \"and \" + courses[i].name;\n      } else {\n        tutorCourses = tutorCourses + \", \" + courses[i].name;\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"tutor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tutor-TutorProfile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tutor-topHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tutor-picture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.tutor.profile_image,\n      alt: this.state.tutor.name,\n      className: \"tutor-profpicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"tutor-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"tutor-schoolYearAndRate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.state.tutor.university.toUpperCase(), \" \\u2022 SENIOR \\u2022 $\", this.state.tutor.hourly_rate, \"/HOUR\"), React.createElement(\"h1\", {\n      className: \"tutor-named\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, this.state.tutor.name), React.createElement(\"p\", {\n      className: \"tutor-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, this.state.tutor.bio))), React.createElement(\"div\", {\n      className: \"tutor-stats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tutor-rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      className: \"tutor-rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"RATING\"), React.createElement(\"p\", {\n      className: \"rating-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, this.state.tutor.tutor_rating, \"/5 stars\")), React.createElement(\"div\", {\n      className: \"tutor-classes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"tutor-classes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"CLASSES\"), React.createElement(\"p\", {\n      className: \"class-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, tutorCourses)), React.createElement(\"div\", {\n      className: \"tutor-availability\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"tutor-availability\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"AVAILABILITIES\"), React.createElement(\"p\", {\n      className: \"availability-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, this.state.tutor.availabilities)), React.createElement(\"div\", {\n      className: \"tutor-reportCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"tutor-reportCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"REPORT CARD\"), React.createElement(\"p\", {\n      className: \"RCdetails\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, this.state.tutor.report_card)))), React.createElement(\"div\", {\n      className: \"tutor-appointment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"tutor-appointment-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Schedule an appointment\"), React.createElement(\"p\", {\n      className: \"schedule-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Select a course\"), this.state.courses.length > 0 && React.createElement(StyledDropdown, {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, this.state.courses.map((course, k) => React.createElement(\"option\", {\n      className: \"course-select\",\n      key: k,\n      value: course.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, course.course_name))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"schedule-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Enter your availabilities\"), React.createElement(\"input\", {\n      className: \"text-input-box\",\n      id: \"availabilities\",\n      type: \"text\",\n      placeholder: \"Friday 10am-2pm...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"schedule-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Briefly describe the kind of help you need\"), React.createElement(\"textarea\", {\n      className: \"textarea-input-box\",\n      id: \"description\",\n      type: \"text\",\n      placeholder: \"Midterm test prep on integrals...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), this.state.isLoggedIn ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: \"/appointments/\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"submit-request\",\n      onClick: () => {\n        this.scheduleAppointment();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Submit Request\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"availability-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"We will get back to you within 24 hours.\")) : React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\"\n      },\n      className: \"availability-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), \"Please sign in to schedule an appointment.\")));\n  }\n\n}\n\nexport default TutorProfile;","map":{"version":3,"sources":["/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/src/TutorProfile.js"],"names":["React","Component","styled","axios","Link","StyledDropdown","select","Button","button","TutorProfile","constructor","props","handleChange","e","setState","selectedCourse","target","value","state","user","tutor","id","name","profpicURL","bio","availabilities","courses","university","rating","reportCard","year","hourly_rate","isLoggedIn","localStorage","getItem","scheduleAppointment","bind","componentDidMount","console","log","match","params","userID","getTutor","getCurrentUser","config","headers","get","then","res","data","getCourses","catch","err","course","concat","appointment","Math","floor","random","student","parseInt","additional_comments","document","getElementById","is_active","location","status","post","response","error","render","tutorCourses","i","length","profile_image","toUpperCase","tutor_rating","report_card","map","k","course_name","pathname","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.css';\nimport styled from 'styled-components';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst StyledDropdown = styled.select`\n  height: 40px;\n  width: 250px;\n  border: 1px solid #ECECEC;\n  border-radius: 4px;\n  font-family: Avenir-Heavy;\n  font-size: 12px;\n  color: black;\n  letter-spacing: 0;\n  text-align: center;\n  justifyContent: center;\n  alignItems: center;\n`;\n\nconst Button = styled.button`\n  height: 40px;\n  width: 250px;\n  border: 2px solid #D9E2FF;\n  border-radius: 4px;\n  font-family: Avenir-Heavy;\n  font-size: 12px;\n  color: #1C3A9F;\n  letter-spacing: 0;\n  text-align: center;\n  justifyContent: center;\n  alignItems: center;\n  margin-top: 12px;\n\n  :hover {\n    color: white;\n    border: 0px;\n    background-color: #1C3A9F;\n  }\n\n  :image {\n    flex: 1,\n    aspectRatio: 1.5,\n    resizeMode: contain,\n  }\n`;\n\nclass TutorProfile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      tutor: {\n        id: -1,\n        name: \"Alex Gerrese\",\n        profpicURL: \"https://randomuser.me/api/portraits/men/4.jpg\",\n        bio: \"This is fake data for this bio. This is fake data for this bio. This is fake data for this bio.\",\n        availabilities: \"4-9pm on Wednesdays and Fridays\",\n        courses: \"Econ 174, Econ 256, CS 201, CS 230, CS 290\",\n        university: \"Duke University\",\n        rating: \"4.7/5\",\n        reportCard: \"Econ 174: A-, Econ 256: A, CS 201: A, CS 230: A-, CS 290: A\",\n        year: 2020,\n        hourly_rate: 40\n      },\n      courses: [],\n      isLoggedIn: localStorage.getItem('token') ? true : false,\n      selectedCourse: -1,\n    };\n    this.scheduleAppointment.bind(this);\n  }\n\n  componentDidMount() {\n\n    // const { match: { params } } = this.props;\n\n    // console.log(this.props.params.userID)\n    console.log(this.props.match.params.userID)\n\n    this.getTutor(this.props.match.params.userID)\n    if (this.state.isLoggedIn) {\n      this.getCurrentUser()\n    }\n  }\n\n  getCurrentUser() {\n    var config = {\n      headers: {'Authorization': `JWT ${localStorage.getItem('token')}`}\n    };\n\n    axios\n      .get('http://127.0.0.1:8000/api/current-user/', config)\n      .then(res => {\n        this.setState({\n          user: res.data,\n        })\n      })\n  }\n\n  getTutor(userID) {\n    axios\n      .get(\" http://127.0.0.1:8000/api/users/\" + userID)\n      .then(res => {\n        this.setState({ tutor: res.data })\n        this.getCourses(this.state.tutor.courses)\n      })\n      .catch(err => console.log(err));\n  }\n\n  getCourses(courses) {\n    for(let course of courses) {\n      axios\n        .get(\"http://127.0.0.1:8000/api/courses/\" + course.id)\n        .then(res => {\n          this.setState(state => {\n            console.log(res.data)\n            const courses = state.courses.concat(res.data);\n            return {\n              courses,\n            };\n          });\n        })\n        .catch(err => console.log(err));\n    }\n  }\n\n  scheduleAppointment() {\n\n    var appointment = {\n      id: Math.floor(Math.random() * 100000),\n      tutor: this.state.tutor.id,\n      student: this.state.user.id,\n      course: parseInt(this.state.selectedCourse, 10) !== -1 ? parseInt(this.state.selectedCourse, 10) : this.state.courses[0].id,\n      additional_comments: document.getElementById('description').value,\n      availabilities: document.getElementById('availabilities').value,\n      is_active: true,\n      location: \"blank\",\n      status: \"Waiting for tutor response\",\n      rating: 5,\n    }\n\n    console.log(appointment);\n\n    axios.post('http://127.0.0.1:8000/api/appointments/', appointment)\n      .then(function (response) {\n        console.log(response);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  handleChange = (e) => {\n    this.setState({ selectedCourse: e.target.value });\n  }\n\n  render() {\n\n    const courses = this.state.courses\n    var tutorCourses = \"\"\n\n    for(let i = 0; i < courses.length; i++) {\n      if (i === 0) {\n        tutorCourses = courses[i].name\n      } else if (i === courses.length - 1) {\n        tutorCourses = tutorCourses + \"and \" + courses[i].name\n      } else {\n        tutorCourses = tutorCourses + \", \" + courses[i].name\n      }\n\n    }\n    return (\n      <div className=\"tutor\">\n        <div className=\"tutor-TutorProfile\">\n          <div className=\"tutor-topHeader\">\n            <div className=\"tutor-picture\">\n            <img  src={ this.state.tutor.profile_image}\n                  alt={ this.state.tutor.name }\n                  className=\"tutor-profpicture\"/>\n            </div>\n            <p></p>\n            <div className=\"tutor-info\">\n            <h3 className=\"tutor-schoolYearAndRate\">{this.state.tutor.university.toUpperCase()} • SENIOR • ${this.state.tutor.hourly_rate}/HOUR</h3>\n            <h1 className=\"tutor-named\">{this.state.tutor.name}</h1>\n            <p className=\"tutor-description\">{this.state.tutor.bio}</p>\n            </div>\n          </div>\n          <div className=\"tutor-stats\">\n            <div className=\"tutor-rating\">\n              <p></p>\n              <h4 className=\"tutor-rating\">RATING</h4>\n              <p className=\"rating-details\">\n              {this.state.tutor.tutor_rating}/5 stars</p>\n            </div>\n            <div className=\"tutor-classes\">\n              <h4 className=\"tutor-classes\">CLASSES</h4>\n              <p className=\"class-details\">{ tutorCourses }</p>\n            </div>\n            <div className=\"tutor-availability\">\n              <h4 className=\"tutor-availability\">AVAILABILITIES</h4>\n              <p className=\"availability-details\">\n              {this.state.tutor.availabilities}</p>\n            </div>\n            <div className=\"tutor-reportCard\">\n              <h4 className=\"tutor-reportCard\">REPORT CARD</h4>\n              <p className=\"RCdetails\">{ this.state.tutor.report_card }</p>\n            </div>\n            </div>\n        </div>\n        <div className=\"tutor-appointment\">\n          <p className=\"tutor-appointment-main\">Schedule an appointment</p>\n          <p className=\"schedule-input\">Select a course</p>\n          {this.state.courses.length > 0 &&\n            <StyledDropdown onChange={this.handleChange}>\n              {this.state.courses.map((course,k) => (\n                <option className=\"course-select\" key={k} value={course.id}>{course.course_name}</option>\n              ))}\n            </StyledDropdown>\n          }\n          <p></p>\n          <p className=\"schedule-input\">Enter your availabilities</p>\n          <input className=\"text-input-box\" id=\"availabilities\" type=\"text\" placeholder=\"Friday 10am-2pm...\">\n          </input>\n          <p></p>\n          <p className=\"schedule-input\">Briefly describe the kind of help you need</p>\n          <textarea className=\"textarea-input-box\" id=\"description\" type=\"text\" placeholder=\"Midterm test prep on integrals...\"></textarea>\n          <p></p>\n          {this.state.isLoggedIn ? (\n            <div>\n              <Link to={{ pathname: \"/appointments/\" }}>\n                <Button className=\"submit-request\" onClick={() => {this.scheduleAppointment()}}>Submit Request</Button>\n              </Link>\n              <p></p>\n              <p className=\"availability-details\">We will get back to you within 24 hours.</p>\n            </div>\n          ) : (\n            <p style={{ textAlign: \"center\" }} className=\"availability-details\"><br/>Please sign in to schedule an appointment.</p>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TutorProfile;\n"]},"metadata":{},"sourceType":"module"}