{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/src/SignIn.js\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 44px;\\n  width: 160px;\\n  border: 2px solid #D9E2FF;\\n  border-radius: 4px;\\n  font-family: Avenir-Heavy;\\n  font-size: 12px;\\n  color: #1C3A9F;\\n  letter-spacing: 0;\\n  text-align: center;\\n  justifyContent: center;\\n  alignItems: center;\\n  margin-top: 12px;\\n\\n  :hover {\\n    color: white;\\n    border: 0px;\\n    background-color: #1C3A9F;\\n  }\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 44px;\\n  width: 160px;\\n  background-color: #1C3A9F;\\n  border-radius: 4px;\\n  font-family: Avenir-Heavy;\\n  font-size: 12px;\\n  color: white;\\n  letter-spacing: 0;\\n  text-align: center;\\n  justifyContent: center;\\n  alignItems: center;\\n  margin-top: 36px;\\n  margin-right: 12px;\\n\\n  :hover {\\n    color: white;\\n    border: 0px;\\n    background-color: #1C3A9F;\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport './styles.css';\nimport styled from 'styled-components';\nimport axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport background from './images/duke.png';\nconst PrimaryButton = styled.button(_templateObject());\nconst SecondaryButton = styled.button(_templateObject2());\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: localStorage.getItem('token') ? true : false,\n      username: '',\n      user: null\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.isLoggedIn) {\n      this.getCurrentUser();\n    }\n  }\n\n  getCurrentUser() {\n    var config = {\n      headers: {\n        \"Authorization\": \"Token \".concat(localStorage.getItem('token'))\n      }\n    };\n    axios.get('http://127.0.0.1:8000/api/current-user/', config).then(res => {\n      console.log(res);\n      this.setState({\n        user: res.data\n      });\n    });\n  }\n\n  handleLogin() {\n    const credentials = {\n      username: document.getElementById('username').value,\n      password: document.getElementById('password').value\n    };\n    axios.post('http://127.0.0.1:8000/api/login/', credentials).then(response => {\n      console.log(response);\n\n      if (response.data.token !== undefined) {\n        localStorage.setItem('token', response.data.token);\n        this.setState({\n          isLoggedIn: true\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleLogout() {\n    localStorage.removeItem('token');\n    this.setState({\n      isLoggedIn: false\n    });\n    window.location.reload();\n  }\n\n  render() {\n    const signInView = React.createElement(\"div\", {\n      className: \"signin-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"signin-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"p\", {\n      className: \"signin-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      className: \"signin-input-box\",\n      id: \"username\",\n      type: \"text\",\n      placeholder: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"signin-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      className: \"signin-input-box\",\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(PrimaryButton, {\n      onClick: () => {\n        this.handleLogin();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(Link, {\n      to: {\n        pathname: \"/signup/\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(SecondaryButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Sign Up\"))));\n    const signOutView = React.createElement(\"div\", {\n      className: \"signin-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"signin-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Hi \", this.state.user !== null ? this.state.user.name : \"there\", \"!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Are you sure you want to log out?\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(PrimaryButton, {\n      onClick: () => {\n        this.handleLogout();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Logout\")));\n    return React.createElement(\"div\", {\n      className: \"signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signin-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"signin-background\",\n      src: background,\n      alt: \"Duke University campus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })), this.state.isLoggedIn ? signOutView : signInView);\n  }\n\n}\n\nexport default withRouter(SignIn);","map":{"version":3,"sources":["/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/src/SignIn.js"],"names":["React","Component","styled","axios","Link","withRouter","background","PrimaryButton","button","SecondaryButton","SignIn","constructor","props","state","isLoggedIn","localStorage","getItem","username","user","handleLogin","bind","componentDidMount","getCurrentUser","config","headers","get","then","res","console","log","setState","data","credentials","document","getElementById","value","password","post","response","token","undefined","setItem","catch","error","handleLogout","removeItem","window","location","reload","render","signInView","pathname","signOutView","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.css';\nimport styled from 'styled-components';\nimport axios from \"axios\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport background from './images/duke.png'\n\nconst PrimaryButton = styled.button`\n  height: 44px;\n  width: 160px;\n  background-color: #1C3A9F;\n  border-radius: 4px;\n  font-family: Avenir-Heavy;\n  font-size: 12px;\n  color: white;\n  letter-spacing: 0;\n  text-align: center;\n  justifyContent: center;\n  alignItems: center;\n  margin-top: 36px;\n  margin-right: 12px;\n\n  :hover {\n    color: white;\n    border: 0px;\n    background-color: #1C3A9F;\n  }\n`;\n\nconst SecondaryButton = styled.button`\n  height: 44px;\n  width: 160px;\n  border: 2px solid #D9E2FF;\n  border-radius: 4px;\n  font-family: Avenir-Heavy;\n  font-size: 12px;\n  color: #1C3A9F;\n  letter-spacing: 0;\n  text-align: center;\n  justifyContent: center;\n  alignItems: center;\n  margin-top: 12px;\n\n  :hover {\n    color: white;\n    border: 0px;\n    background-color: #1C3A9F;\n  }\n`;\n\nclass SignIn extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: localStorage.getItem('token') ? true : false,\n      username: '',\n      user: null,\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.isLoggedIn) {\n      this.getCurrentUser()\n    }\n  }\n\n  getCurrentUser() {\n    var config = {\n      headers: {\"Authorization\": `Token ${localStorage.getItem('token')}`}\n    };\n\n    axios\n      .get('http://127.0.0.1:8000/api/current-user/', config)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          user: res.data,\n        })\n      })\n  }\n\n  handleLogin() {\n\n    const credentials = {\n      username: document.getElementById('username').value,\n      password: document.getElementById('password').value\n    }\n\n    axios.post('http://127.0.0.1:8000/api/login/', credentials)\n      .then((response) => {\n        console.log(response);\n        if (response.data.token !== undefined) {\n          localStorage.setItem('token', response.data.token);\n          this.setState({\n              isLoggedIn: true,\n            });\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  handleLogout() {\n    localStorage.removeItem('token');\n    this.setState({ isLoggedIn: false });\n    window.location.reload();\n  }\n\n  render() {\n\n    const signInView =\n      <div className=\"signin-right\">\n        <h2 className=\"signin-title\">Sign in</h2>\n        <p className=\"signin-input\">Username</p>\n        <input className=\"signin-input-box\" id=\"username\" type=\"text\" placeholder=\"\">\n        </input>\n        <p className=\"signin-input\">Password</p>\n        <input className=\"signin-input-box\" id=\"password\" type=\"password\" placeholder=\"\">\n        </input>\n        <div>\n          <PrimaryButton onClick={() => {this.handleLogin()}}>Sign In</PrimaryButton>\n          <Link to={{ pathname: \"/signup/\" }}>\n            <SecondaryButton>Sign Up</SecondaryButton>\n          </Link>\n        </div>\n      </div>\n\n    const signOutView =\n      <div className=\"signin-right\">\n        <h2 className=\"signin-title\">Hi { this.state.user !== null ? this.state.user.name : \"there\"}!</h2>\n        <p>Are you sure you want to log out?</p>\n        <div>\n          <PrimaryButton onClick={() => {this.handleLogout()}}>Logout</PrimaryButton>\n        </div>\n      </div>\n\n    return (\n      <div className=\"signin\">\n        <div className=\"signin-left\">\n          <img className=\"signin-background\" src={background} alt=\"Duke University campus\"/>\n        </div>\n        {this.state.isLoggedIn ? signOutView : signInView}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(SignIn);\n"]},"metadata":{},"sourceType":"module"}