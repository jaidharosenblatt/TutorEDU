{"ast":null,"code":"var _jsxFileName = \"/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/src/Appointments.js\";\nimport React, { Component } from 'react';\nimport './styles.css';\nimport AppointmentCard from './AppointmentCard';\nimport axios from \"axios\";\n\nclass Appointments extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pendingAppointments: [],\n      scheduledAppointments: [],\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    this.getCurrentUser();\n  }\n\n  getCurrentUser() {\n    var config = {\n      headers: {\n        \"Authorization\": \"Token \".concat(localStorage.getItem('token'))\n      }\n    };\n    axios.get('http://127.0.0.1:8000/api/current-user/', config).then(res => {\n      console.log(res);\n      this.setState({\n        user: res.data\n      });\n      this.getAppointments();\n    });\n  }\n\n  getAppointments() {\n    // axios\n    //   .get(\"/appointments\")\n    //   .then(res => {\n    //     console.log(res);\n    //     this.setState({\n    //       appointments: res.data,\n    //     })\n    //   })\n    //   .catch(err => console.log(err));\n    var pendingAppointments = [];\n    var scheduledAppointments = [];\n    const unfilteredAppointments = this.state.user.tutor_appointments.concat(this.state.user.student_appointments);\n\n    for (let appointment of unfilteredAppointments) {\n      if (appointment.status === \"Waiting for tutor response\" || appointment.status === \"Waiting for response\") {\n        pendingAppointments.push(appointment);\n      } else {\n        scheduledAppointments.push(appointment);\n      }\n    }\n\n    this.setState({\n      pendingAppointments: pendingAppointments,\n      scheduledAppointments: scheduledAppointments\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"appointments-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"upcoming-appointments\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"upcoming-appointments-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Pending Appointments\"), this.state.pendingAppointments.length > 0 ? this.state.pendingAppointments.map((appointment, k) => React.createElement(AppointmentCard, {\n      key: k,\n      appointment: appointment,\n      currentUserID: this.state.user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })) : React.createElement(\"p\", {\n      className: \"tutor-results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"No pending appointments\")), React.createElement(\"div\", {\n      className: \"past-appointments\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"past-appointments-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Scheduled Appointments\"), this.state.scheduledAppointments.length > 0 ? this.state.scheduledAppointments.map((appointment, k) => React.createElement(AppointmentCard, {\n      key: k,\n      appointment: appointment,\n      currentUserID: this.state.user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })) : React.createElement(\"p\", {\n      className: \"tutor-results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"No scheduled appointments\")));\n  }\n\n}\n\nexport default Appointments;","map":{"version":3,"sources":["/Users/jaidharosenblatt/Desktop/TutorEDU/frontend/gui/src/Appointments.js"],"names":["React","Component","AppointmentCard","axios","Appointments","constructor","props","state","pendingAppointments","scheduledAppointments","user","componentDidMount","getCurrentUser","config","headers","localStorage","getItem","get","then","res","console","log","setState","data","getAppointments","unfilteredAppointments","tutor_appointments","concat","student_appointments","appointment","status","push","render","length","map","k","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.css';\nimport AppointmentCard from './AppointmentCard';\nimport axios from \"axios\";\n\nclass Appointments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      pendingAppointments: [],\n      scheduledAppointments: [],\n      user: null,\n    };\n  }\n\n  componentDidMount() {\n    this.getCurrentUser()\n  }\n\n  getCurrentUser() {\n    var config = {\n      headers: {\"Authorization\": `Token ${localStorage.getItem('token')}`}\n    };\n    \n\n    axios\n      .get('http://127.0.0.1:8000/api/current-user/', config)\n      .then(res => {\n        console.log(res);\n        this.setState({\n          user: res.data,\n        })\n        this.getAppointments()\n      })\n  }\n\n  getAppointments() {\n    // axios\n    //   .get(\"/appointments\")\n    //   .then(res => {\n    //     console.log(res);\n    //     this.setState({\n    //       appointments: res.data,\n    //     })\n    //   })\n    //   .catch(err => console.log(err));\n    var pendingAppointments = []\n    var scheduledAppointments = []\n    const unfilteredAppointments = this.state.user.tutor_appointments.concat(this.state.user.student_appointments)\n\n    for (let appointment of unfilteredAppointments) {\n      if (appointment.status === \"Waiting for tutor response\" || appointment.status === \"Waiting for response\") {\n        pendingAppointments.push(appointment)\n      } else {\n        scheduledAppointments.push(appointment)\n      }\n    }\n\n    this.setState({\n      pendingAppointments: pendingAppointments,\n      scheduledAppointments: scheduledAppointments,\n    })\n\n  }\n\n  render() {\n    return (\n      <div className=\"appointments-container\">\n        <div className=\"upcoming-appointments\">\n          <h2 className=\"upcoming-appointments-text\">Pending Appointments</h2>\n          {this.state.pendingAppointments.length > 0 ? (\n            this.state.pendingAppointments.map((appointment,k) => (\n              <AppointmentCard  key={k}\n                                appointment={appointment}\n                                currentUserID={this.state.user.id}/>\n            ))\n          ) : (\n            <p className=\"tutor-results\">No pending appointments</p>\n          )}\n        </div>\n        <div className=\"past-appointments\">\n          <h2 className=\"past-appointments-text\">Scheduled Appointments</h2>\n            {this.state.scheduledAppointments.length > 0 ? (\n              this.state.scheduledAppointments.map((appointment,k) => (\n                <AppointmentCard  key={k}\n                                  appointment={appointment}\n                                  currentUserID={this.state.user.id}/>\n              ))\n            ) : (\n              <p className=\"tutor-results\">No scheduled appointments</p>\n            )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Appointments;\n"]},"metadata":{},"sourceType":"module"}